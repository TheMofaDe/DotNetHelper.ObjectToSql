<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Primary Key &amp; Identity Fields | DotNetHelper.ObjectToSql </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Primary Key &amp; Identity Fields | DotNetHelper.ObjectToSql ">
    <meta name="generator" content="docfx 2.43.1.0">
    
    <link rel="shortcut icon" href="../logo/favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="toc.html">
    <meta property="docfx:tocrel" content="../toc">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
                
                <ul class="nav level1 navbar-nav">
                      <li>
                          <a href="../index.html" title="Home">Home</a>
                      </li>
                      <li>
                          <a href="../tutorials/index.html" title="Tutorials">Tutorials</a>
                      </li>
                      <li>
                          <a href="../api/DotNetHelper.ObjectToSql.html" title="API Documentation">API Documentation</a>
                      </li>
                </ul>    </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="primary-key--identity-fields">Primary Key &amp; Identity Fields</h1>

<p>In the secnarios where you need to build Update,Delete, or Upsert Statements. Attributes are use to generate the where clause.</p>
<h3 id="decorating-properties-as-primary-key">Decorating Properties As Primary Key</h3>
<pre><code class="lang-csharp">// USING SqlColumn Attribute
public class Employee {
      [SqlColumn(SetPrimaryKey = true)]
      public PrimaryKey {get; set;}
      public FirstName { get; set; }
      public LastName  { get; set; }
}
</code></pre>
<p>OR</p>
<pre><code class="lang-csharp">// USING DataAnnotation Attribute
public class Employee {
      [Key]
      public PrimaryKey {get; set;}
      public FirstName { get; set; }
      public LastName  { get; set; }
}
</code></pre>
<p>using either version of the model above I can now generate update,delete, &amp; upsert statment by doing the following</p>
<pre><code class="lang-csharp">   var actionType = ActionType.Update; // A enum with the values Insert,Update,Delete,Upsert
   var sqlServerObjectToSql = new ObjectToSql(DataBaseType.SqlServer);
   var updateSql = sqlServerObjectToSql.BuildQuery&lt;Employee&gt;(&quot;Table Name Go Here If Null Defaults to Type Name&quot;,actionType);
   var upsertSql = sqlServerObjectToSql.BuildQuery&lt;Employee&gt;(&quot;Table Name Go Here If Null Defaults to Type Name&quot;,ActionType.Upsert);
   var deleteSql = sqlServerObjectToSql.BuildQuery&lt;Employee&gt;(&quot;Table Name Go Here If Null Defaults to Type Name&quot;,ActionType.Delete);

   Console.WriteLine(updateSql);
   Console.WriteLine(upsertSql);
   Console.WriteLine(deleteSql);
</code></pre>
<p>running the code above will produces the following sql statmente</p>
<pre><code class="lang-sql">UPDATE Employee SET [FirstName]=@FirstName,[LastName]=@LastName WHERE [PrimaryKey]=@PrimaryKey
</code></pre>
<pre><code class="lang-sql">UPDATE Employee SET [FirstName]=@FirstName,[LastName]=@LastName WHERE [PrimaryKey]=@PrimaryKey
</code></pre>
<pre><code class="lang-sql">DELETE FROM EmployeeWithPrimaryKeySqlColumn WHERE [PrimaryKey]=@PrimaryKey
</code></pre>
<!-- ### Supported Attributes 
this library has its own custom attributes and can also work with the common DataAnnotation attributes. With the support of DataAnnotation this means this library could be paired with your favorite orm like Dapper or Enitity Framework -->
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/TheMofaDe/DotNetHelper.ObjectToSql/blob/master/docs/tutorials/sample.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Copyright © 2019 Joseph McNeal Jr
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
